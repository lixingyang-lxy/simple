---
title: 评论设置
date: 2021-09-20 15:00:08
tags:
---

## 4.1 Twikoo评论设置

我最初是想要使用Valine或者MiniValine来做评论系统的，但是不知道什么原因，在本地端口打开网页测试评论功能时一切正常，一旦部署到github pages后就失效了，无法正常访问leancloud。我不想太过麻烦，所以直接使用了twikoo评论系统。我使用的主题Matery也支持twikoo。

注意：Twikoo**不兼容IE**（但兼容Edge），介意的小伙伴勿选。

以下是我的配置过程，也可以参考[官方文档](https://twikoo.js.org/quick-start.html)。

### 4.1.1 手动部署

进入腾讯云[CloudBase](https://cloud.tencent.com/act/pro/cloudbase01#4)，下拉到新用户专享部分，选择免费的基础版1即可（有钱的话当我没说），然后按照提示一步步购买。

购买成功后，进入环境->登录授权，开启匿名登陆。然后点击“自定义登录”一行中的“私钥下载”，下载该文件，一会儿要用。



进入环境->安全配置，将网站域名加入到“WEB安全域名”。如“qiacuhome.cn”。

进入云函数界面，新建云函数，函数名称填写twikoo，创建方式选空白函数，运行环境选Nodejs 10.15，函数内存选128MB，然后进入下一步。之后会看到一个输入框，清空里面的内容，填写以下代码：

```
exports.main = require('twikoo-func').main
1
```

创建完成后，点击“twikoo”进入云函数详情页，进入“函数代码”标签，新建文件，文件名为package.json，填写以下代码，点击**保存并安装依赖**。

```
{ "dependencies": { "twikoo-func": "1.2.0" } }
1
```

### 4.1.2 管理面板配置

在环境->资源购买页面可以找到自己的环境ID，复制后填入Matery主题的_config.yml文件中。



然后重新`hexo g -d`，部署github pages。完成后，进入自己的网站，随便找到一个有评论框的页面进入，在右下角有一个设置，点进入，输入刚才下载的私钥，就可以进入管理界面了。按照提示修改配置即可。